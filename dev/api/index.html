<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API reference · PerfTest.jl</title><meta name="title" content="API reference · PerfTest.jl"/><meta property="og:title" content="API reference · PerfTest.jl"/><meta property="twitter:title" content="API reference · PerfTest.jl"/><meta name="description" content="Documentation for PerfTest.jl."/><meta property="og:description" content="Documentation for PerfTest.jl."/><meta property="twitter:description" content="Documentation for PerfTest.jl."/><meta property="og:url" content="https://JuliaPerf.github.io/PerfTest.jl/api/"/><meta property="twitter:url" content="https://JuliaPerf.github.io/PerfTest.jl/api/"/><link rel="canonical" href="https://JuliaPerf.github.io/PerfTest.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PerfTest.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../usage/">Usage</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/memcopyCellArray3D/">Basic example: time regression</a></li><li><a class="tocitem" href="../examples/memcopyCellArray3D_ParallelStencil/">Roofline example: option pricing</a></li></ul></li><li class="is-active"><a class="tocitem" href>API reference</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPerf/PerfTest.jl/blob/master/docs/src/api.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-reference"><a class="docs-heading-anchor" href="#API-reference">API reference</a><a id="API-reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-reference" title="Permalink"></a></h1><p>This is the official API reference of <code>PerfTest</code>. Note that it can also be queried interactively from the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/">Julia REPL</a> using the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/#Help-mode">help mode</a>:</p><pre><code class="language-julia-repl hljs">julia&gt; using PerfTest
julia&gt;?
help?&gt; PerfTest</code></pre><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><h4 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h4><ul><li><a href="#PerfTest.ASTRule"><code>PerfTest.ASTRule</code></a></li><li><a href="#PerfTest.ASTWalkDepthRecord"><code>PerfTest.ASTWalkDepthRecord</code></a></li><li><a href="#PerfTest.Context"><code>PerfTest.Context</code></a></li><li><a href="#PerfTest.CustomMetric"><code>PerfTest.CustomMetric</code></a></li><li><a href="#PerfTest.DepthRecord"><code>PerfTest.DepthRecord</code></a></li><li><a href="#PerfTest.EnvironmentFlags"><code>PerfTest.EnvironmentFlags</code></a></li><li><a href="#PerfTest.Methodology_Result"><code>PerfTest.Methodology_Result</code></a></li><li><a href="#PerfTest.Metric_Constraint"><code>PerfTest.Metric_Constraint</code></a></li><li><a href="#PerfTest.Metric_Reference"><code>PerfTest.Metric_Reference</code></a></li><li><a href="#PerfTest.Metric_Result"><code>PerfTest.Metric_Result</code></a></li><li><a href="#PerfTest.Perftest_Datafile_Root"><code>PerfTest.Perftest_Datafile_Root</code></a></li><li><a href="#PerfTest.Perftest_Result"><code>PerfTest.Perftest_Result</code></a></li><li><a href="#PerfTest.Struct_Eff_Mem_Throughput"><code>PerfTest.Struct_Eff_Mem_Throughput</code></a></li><li><a href="#PerfTest.Struct_Metric_Config"><code>PerfTest.Struct_Metric_Config</code></a></li><li><a href="#PerfTest.Struct_Regression"><code>PerfTest.Struct_Regression</code></a></li><li><a href="#PerfTest.Struct_Roofline_Config"><code>PerfTest.Struct_Roofline_Config</code></a></li><li><a href="#PerfTest.Struct_Tolerance"><code>PerfTest.Struct_Tolerance</code></a></li></ul><h4 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.ASTRule" href="#PerfTest.ASTRule"><code>PerfTest.ASTRule</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Used by the AST walker to check for expressions that match <code>condition</code>, if they do then <code>modifier</code> will be applied to the expression.</p><p>This is the basic building block of the code transformer, a set of these rules compounds to all the needed manipulations to create the testing suite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/structs.jl#L109-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.ASTWalkDepthRecord" href="#PerfTest.ASTWalkDepthRecord"><code>PerfTest.ASTWalkDepthRecord</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This structure is used to record a test set hierarchy during a AST walk. In any specific point of the walk the array will TODO</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/structs.jl#L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Context" href="#PerfTest.Context"><code>PerfTest.Context</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>In order to perform with the test suite generation, the AST walk needs to keep a context register to integrate features that rely on the scope hierarchy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/structs.jl#L78-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.CustomMetric" href="#PerfTest.CustomMetric"><code>PerfTest.CustomMetric</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Saves flags needed during the execution of the AST walk. It holds if:</p><ul><li>The walk is on an expression that is a test target</li><li>The walk is on an expression that is inside a config macro</li><li>Several flags that affect the roofline methodology</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/structs.jl#L59-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.DepthRecord" href="#PerfTest.DepthRecord"><code>PerfTest.DepthRecord</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This structure is used to record a test set frame during a AST walk. See <code>ASTWalkDepthRecord</code> for more info.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/structs.jl#L13-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.EnvironmentFlags" href="#PerfTest.EnvironmentFlags"><code>PerfTest.EnvironmentFlags</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Saves flags needed during the execution of the AST walk. It holds if:</p><ul><li>The walk is on an expression that is a test target</li><li>The walk is on an expression that is inside a config macro</li><li>Several flags that affect the roofline methodology</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/structs.jl#L41-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Methodology_Result" href="#PerfTest.Methodology_Result"><code>PerfTest.Methodology_Result</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct is used in the test suite to save a methodology result, which in turn is constituted of a group of metric results and their references. Additionally, custom elements that are not subject to test are also saved, e.g. informational metrics, printing functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/structs.jl#L52-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Metric_Constraint" href="#PerfTest.Metric_Constraint"><code>PerfTest.Metric_Constraint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct is used in the test suite to save a metric test result and its associated data, it saves the reference used and the toreance intervals in absolute and percentual values, also it shows if the test succeded and some additional variables for data printing</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/structs.jl#L31-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Metric_Reference" href="#PerfTest.Metric_Reference"><code>PerfTest.Metric_Reference</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct is used in the test suite to save a metric reference, a reference is meant to be later compared with a result, its combination gives the <code>Metric_Constraint</code> struct. It holds:</p><ul><li>A <code>reference</code> value.</li><li><code>low_is_bad</code> registers if in this metric lower values are less desired than higher ones, or the opposite (e.g. time vs  FLOP/s).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/structs.jl#L17-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Metric_Result" href="#PerfTest.Metric_Result"><code>PerfTest.Metric_Result</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct is used in the test suite to save a metric measurement, therefore its saves the metric <code>name</code>, its <code>units</code> space and its <code>value</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/structs.jl#L5-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Perftest_Datafile_Root" href="#PerfTest.Perftest_Datafile_Root"><code>PerfTest.Perftest_Datafile_Root</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct is the root of the data recording file, it can save several performance test suite execution results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/structs.jl#L71-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Perftest_Result" href="#PerfTest.Perftest_Result"><code>PerfTest.Perftest_Result</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct saves a complete test suite result for one execution. It also saves the raw measurements obtained from the targets.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/structs.jl#L62-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Struct_Eff_Mem_Throughput" href="#PerfTest.Struct_Eff_Mem_Throughput"><code>PerfTest.Struct_Eff_Mem_Throughput</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct holds the configuration of the basic effective memory throughput methodology.</p><ul><li><code>enabled</code> is used to enable or disable the methodology</li><li><code>tolerance</code> defines the interval of ratios (eff.mem.through. / max. bandwidth) that make the test succeed.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/config.jl#L27-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Struct_Metric_Config" href="#PerfTest.Struct_Metric_Config"><code>PerfTest.Struct_Metric_Config</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct can hold the configuration of any metric.</p><ul><li><code>enabled</code> is used to enable or disable the methodology</li><li><code>regression_threshold</code>, when comparing the measure with a reference, defines how far can the measurement be from the reference</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/config.jl#L55-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Struct_Regression" href="#PerfTest.Struct_Regression"><code>PerfTest.Struct_Regression</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct holds the configuration of the basic metric regression methodology.</p><p><code>enabled</code> is used to enable or disable the methodology <code>save_failed</code> will record historical measurements of failed tests if true <code>general_regression_threshold</code> sets the torelance interval for the test comparison</p><p><code>regression_calculation</code> can be:</p><ul><li>:latest    The reference will be the latest saved result</li><li>:average The reference will be the average of all saved results</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/config.jl#L6-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Struct_Roofline_Config" href="#PerfTest.Struct_Roofline_Config"><code>PerfTest.Struct_Roofline_Config</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This struct holds the configuration of the basic roofline methodology.</p><ul><li><code>enabled</code> is used to enable or disable the methodology</li><li><code>tolerance</code> defines the interval of ratios (eff.mem.through. / max. bandwidth) that make the test succeed.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/config.jl#L38-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.Struct_Tolerance" href="#PerfTest.Struct_Tolerance"><code>PerfTest.Struct_Tolerance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Tolerance interval structure. Used to save intervals around a threshold during test comparisons.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/structs.jl#L5-L7">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h4 id="Index-2"><a class="docs-heading-anchor" href="#Index-2">Index</a><a class="docs-heading-anchor-permalink" href="#Index-2" title="Permalink"></a></h4><ul><li><a href="#PerfTest._treeRun-Tuple{Expr, PerfTest.Context, Vararg{Any}}"><code>PerfTest._treeRun</code></a></li><li><a href="#PerfTest.autoflopExpressionParser-Tuple{Expr}"><code>PerfTest.autoflopExpressionParser</code></a></li><li><a href="#PerfTest.auxiliarMetricPrint-Tuple{PerfTest.Metric_Result, Int64}"><code>PerfTest.auxiliarMetricPrint</code></a></li><li><a href="#PerfTest.buildPrimitiveMetrics-Tuple{}"><code>PerfTest.buildPrimitiveMetrics</code></a></li><li><a href="#PerfTest.by_index-Tuple{Union{BenchmarkTools.BenchmarkGroup, Dict}, Vector{PerfTest.DepthRecord}}"><code>PerfTest.by_index</code></a></li><li><a href="#PerfTest.checkAuxiliaryCustomMetrics-Tuple{PerfTest.Context}"><code>PerfTest.checkAuxiliaryCustomMetrics</code></a></li><li><a href="#PerfTest.checkAuxiliaryMetric-Tuple{PerfTest.CustomMetric}"><code>PerfTest.checkAuxiliaryMetric</code></a></li><li><a href="#PerfTest.checkCustomMetric-Tuple{PerfTest.CustomMetric}"><code>PerfTest.checkCustomMetric</code></a></li><li><a href="#PerfTest.checkCustomMetrics-Tuple{PerfTest.Context}"><code>PerfTest.checkCustomMetrics</code></a></li><li><a href="#PerfTest.checkMedianTime-Tuple{PerfTest.Struct_Tolerance}"><code>PerfTest.checkMedianTime</code></a></li><li><a href="#PerfTest.checkMinTime-Tuple{PerfTest.Struct_Tolerance}"><code>PerfTest.checkMinTime</code></a></li><li><a href="#PerfTest.configFallBack-Tuple{Any, Symbol}"><code>PerfTest.configFallBack</code></a></li><li><a href="#PerfTest.customMetricExpressionParser-Tuple{Expr}"><code>PerfTest.customMetricExpressionParser</code></a></li><li><a href="#PerfTest.customMetricReferenceExpressionParser-Tuple{Expr}"><code>PerfTest.customMetricReferenceExpressionParser</code></a></li><li><a href="#PerfTest.extractMethodologyResultArray-Tuple{Dict, Symbol}"><code>PerfTest.extractMethodologyResultArray</code></a></li><li><a href="#PerfTest.extractNamesResultArray-Tuple{Dict, Symbol}"><code>PerfTest.extractNamesResultArray</code></a></li><li><a href="#PerfTest.flattenedInterpolation-Tuple{Expr, Expr, Symbol}"><code>PerfTest.flattenedInterpolation</code></a></li><li><a href="#PerfTest.fullParsingSuite-Tuple{Expr}"><code>PerfTest.fullParsingSuite</code></a></li><li><a href="#PerfTest.genTestName!-Tuple{PerfTest.Context}"><code>PerfTest.genTestName!</code></a></li><li><a href="#PerfTest.getMetricValue-Tuple{Vector{PerfTest.Methodology_Result}, String}"><code>PerfTest.getMetricValue</code></a></li><li><a href="#PerfTest.getNumber-Tuple{String}"><code>PerfTest.getNumber</code></a></li><li><a href="#PerfTest.grepOutput-Tuple{String, Union{Regex, String}}"><code>PerfTest.grepOutput</code></a></li><li><a href="#PerfTest.grepOutputXGetNumber-Tuple{String, String}"><code>PerfTest.grepOutputXGetNumber</code></a></li><li><a href="#PerfTest.iteratorExpressionParser-Tuple{Expr}"><code>PerfTest.iteratorExpressionParser</code></a></li><li><a href="#PerfTest.loadFileAsExpr-Tuple{AbstractString}"><code>PerfTest.loadFileAsExpr</code></a></li><li><a href="#PerfTest.metaGet-Tuple{AbstractVector, Symbol}"><code>PerfTest.metaGet</code></a></li><li><a href="#PerfTest.metaGetString-Tuple{AbstractVector}"><code>PerfTest.metaGetString</code></a></li><li><a href="#PerfTest.onCustomMetricDefinition-Tuple{Expr, PerfTest.Context, Set{Symbol}}"><code>PerfTest.onCustomMetricDefinition</code></a></li><li><a href="#PerfTest.onMemoryThroughputDefinition-Tuple{Expr, PerfTest.Context}"><code>PerfTest.onMemoryThroughputDefinition</code></a></li><li><a href="#PerfTest.openDataFile-Tuple{AbstractString}"><code>PerfTest.openDataFile</code></a></li><li><a href="#PerfTest.p_blue-Tuple{Any}"><code>PerfTest.p_blue</code></a></li><li><a href="#PerfTest.p_green-Tuple{Any}"><code>PerfTest.p_green</code></a></li><li><a href="#PerfTest.p_red-Tuple{Any}"><code>PerfTest.p_red</code></a></li><li><a href="#PerfTest.p_yellow-Tuple{Any}"><code>PerfTest.p_yellow</code></a></li><li><a href="#PerfTest.perftestConfigEnter-Tuple{Expr, PerfTest.Context}"><code>PerfTest.perftestConfigEnter</code></a></li><li><a href="#PerfTest.perftestConfigExit-Tuple{Expr, PerfTest.Context}"><code>PerfTest.perftestConfigExit</code></a></li><li><a href="#PerfTest.popQuoteBlocks-Tuple{Expr}"><code>PerfTest.popQuoteBlocks</code></a></li><li><a href="#PerfTest.printDepth!-Tuple{AbstractArray}"><code>PerfTest.printDepth!</code></a></li><li><a href="#PerfTest.printIntervalLanding"><code>PerfTest.printIntervalLanding</code></a></li><li><a href="#PerfTest.printMethodology-Tuple{PerfTest.Methodology_Result, Int64}"><code>PerfTest.printMethodology</code></a></li><li><a href="#PerfTest.printMetric-Tuple{PerfTest.Metric_Result, PerfTest.Metric_Constraint, Int64}"><code>PerfTest.printMetric</code></a></li><li><a href="#PerfTest.printedOutputExpressionParser-Tuple{Expr}"><code>PerfTest.printedOutputExpressionParser</code></a></li><li><a href="#PerfTest.printfail-Tuple{BenchmarkTools.TrialJudgement, BenchmarkTools.Trial, BenchmarkTools.Trial, PerfTest.FloatRange, Int64}"><code>PerfTest.printfail</code></a></li><li><a href="#PerfTest.removeBlock-Tuple{Expr}"><code>PerfTest.removeBlock</code></a></li><li><a href="#PerfTest.retvalExpressionParser-Tuple{Expr}"><code>PerfTest.retvalExpressionParser</code></a></li><li><a href="#PerfTest.rooflineMacroParse-Tuple{Expr, PerfTest.Context}"><code>PerfTest.rooflineMacroParse</code></a></li><li><a href="#PerfTest.ruleSet-Tuple{PerfTest.Context, Vector{PerfTest.ASTRule}}"><code>PerfTest.ruleSet</code></a></li><li><a href="#PerfTest.saveDataFile-Tuple{AbstractString, PerfTest.Perftest_Datafile_Root}"><code>PerfTest.saveDataFile</code></a></li><li><a href="#PerfTest.saveExprAsFile"><code>PerfTest.saveExprAsFile</code></a></li><li><a href="#PerfTest.setupCPUPeakFlopBenchmark-Tuple{}"><code>PerfTest.setupCPUPeakFlopBenchmark</code></a></li><li><a href="#PerfTest.setupMemoryBandwidthBenchmark-Tuple{}"><code>PerfTest.setupMemoryBandwidthBenchmark</code></a></li><li><a href="#PerfTest.testsetUpdate!-Tuple{PerfTest.Context, String}"><code>PerfTest.testsetUpdate!</code></a></li><li><a href="#PerfTest.treeRun-Tuple{AbstractString}"><code>PerfTest.treeRun</code></a></li><li><a href="#PerfTest.unblockAndConcat-Tuple{Vector{Expr}}"><code>PerfTest.unblockAndConcat</code></a></li><li><a href="#PerfTest.@auxiliary_metric-Tuple{Any, Any, Any}"><code>PerfTest.@auxiliary_metric</code></a></li><li><a href="#PerfTest.@define_eff_memory_throughput-Tuple{Any}"><code>PerfTest.@define_eff_memory_throughput</code></a></li><li><a href="#PerfTest.@define_metric-Tuple{Any}"><code>PerfTest.@define_metric</code></a></li><li><a href="#PerfTest.@lpad-Tuple{Any}"><code>PerfTest.@lpad</code></a></li><li><a href="#PerfTest.@on_perftest_exec-Tuple{Any}"><code>PerfTest.@on_perftest_exec</code></a></li><li><a href="#PerfTest.@on_perftest_ignore-Tuple{Any}"><code>PerfTest.@on_perftest_ignore</code></a></li><li><a href="#PerfTest.@perftest-Tuple{Any}"><code>PerfTest.@perftest</code></a></li><li><a href="#PerfTest.@perftest_config-Tuple{Any}"><code>PerfTest.@perftest_config</code></a></li><li><a href="#PerfTest.@roofline"><code>PerfTest.@roofline</code></a></li></ul><h4 id="Documentation-2"><a class="docs-heading-anchor" href="#Documentation-2">Documentation</a><a class="docs-heading-anchor-permalink" href="#Documentation-2" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest._treeRun-Tuple{Expr, PerfTest.Context, Vararg{Any}}" href="#PerfTest._treeRun-Tuple{Expr, PerfTest.Context, Vararg{Any}}"><code>PerfTest._treeRun</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method gets a input julia expression, and a context register and executes a transformation of the input that converts a recipe script (input) into a fully-fledged testing suite (return value).</p><p><strong>Arguments</strong></p><ul><li><code>input_expr</code> the recipe/source expression. (internally, a.k.a source code space)</li><li><code>context</code> a register that will store information useful for the transformation over its run over the AST of the input</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/PerfTest.jl#L94-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.autoflopExpressionParser-Tuple{Expr}" href="#PerfTest.autoflopExpressionParser-Tuple{Expr}"><code>PerfTest.autoflopExpressionParser</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This is one of the parser functions that expand any formula block for metric definition. This function will parse the <code>:autoflop</code> symbol and substitute it with the flop count of the test target</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L30-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.auxiliarMetricPrint-Tuple{PerfTest.Metric_Result, Int64}" href="#PerfTest.auxiliarMetricPrint-Tuple{PerfTest.Metric_Result, Int64}"><code>PerfTest.auxiliarMetricPrint</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is used to dump metric information regading auxiliar metrics, which are not used in testing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L149-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.buildPrimitiveMetrics-Tuple{}" href="#PerfTest.buildPrimitiveMetrics-Tuple{}"><code>PerfTest.buildPrimitiveMetrics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function generates the code that make primitive metrics values available to all metodologies and custom metrics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L156-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.by_index-Tuple{Union{BenchmarkTools.BenchmarkGroup, Dict}, Vector{PerfTest.DepthRecord}}" href="#PerfTest.by_index-Tuple{Union{BenchmarkTools.BenchmarkGroup, Dict}, Vector{PerfTest.DepthRecord}}"><code>PerfTest.by_index</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method expects a hierarchy tree (<code>dict</code>) in the form of nested dictionaries and a vector of dictionary keys <code>idx</code>. The function will recursively apply the keys to get to a final element.</p><p>It is usually put to work with the <code>DepthRecord</code> struct.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/data_handling.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.checkAuxiliaryCustomMetrics-Tuple{PerfTest.Context}" href="#PerfTest.checkAuxiliaryCustomMetrics-Tuple{PerfTest.Context}"><code>PerfTest.checkAuxiliaryCustomMetrics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to generate the code that computes the value of every auxiliary custom metric enabled in th current context, where the code is generated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L356-L358">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.checkAuxiliaryMetric-Tuple{PerfTest.CustomMetric}" href="#PerfTest.checkAuxiliaryMetric-Tuple{PerfTest.CustomMetric}"><code>PerfTest.checkAuxiliaryMetric</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to generate the code that computes the value of a given auxiliary custom metric in the context the code is generated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L340-L342">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.checkCustomMetric-Tuple{PerfTest.CustomMetric}" href="#PerfTest.checkCustomMetric-Tuple{PerfTest.CustomMetric}"><code>PerfTest.checkCustomMetric</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is used to generate the code that evaluates if a custom metric result f a target is within a specified reference.</p><p><strong>WARNING</strong></p><p>Predefined symbols needed before this code is added to the generated space:</p><ul><li><code>reference_value</code></li><li><code>metric_results</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L260-L267">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.checkCustomMetrics-Tuple{PerfTest.Context}" href="#PerfTest.checkCustomMetrics-Tuple{PerfTest.Context}"><code>PerfTest.checkCustomMetrics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is used to generate the code that evaluates if a custom metric result f a target is within a specified reference.</p><p><strong>WARNING</strong></p><p>Predefined symbols needed before this code is added to the generated space:</p><ul><li><code>reference_value</code></li><li><code>metric_results</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L312-L319">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.checkMedianTime-Tuple{PerfTest.Struct_Tolerance}" href="#PerfTest.checkMedianTime-Tuple{PerfTest.Struct_Tolerance}"><code>PerfTest.checkMedianTime</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is used to generate the code that evaluates if the median time of execution of a target is within a specified reference.</p><p><strong>WARNING</strong></p><p>Predefined symbols needed before this code is added to the generated space:</p><ul><li><code>reference_value</code></li><li><code>metric_results</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L179-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.checkMinTime-Tuple{PerfTest.Struct_Tolerance}" href="#PerfTest.checkMinTime-Tuple{PerfTest.Struct_Tolerance}"><code>PerfTest.checkMinTime</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is used to generate the code that evaluates if the minimum time of execution of a target is within a specified reference.</p><p><strong>WARNING</strong></p><p>Predefined symbols needed before this code is added to the generated space:</p><ul><li><code>reference_value</code></li><li><code>metric_results</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L219-L226">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.configFallBack-Tuple{Any, Symbol}" href="#PerfTest.configFallBack-Tuple{Any, Symbol}"><code>PerfTest.configFallBack</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A little automatism to jump to defaults if the configuration provided is absent   Kind can be:        :regression</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/config.jl#L203-L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.customMetricExpressionParser-Tuple{Expr}" href="#PerfTest.customMetricExpressionParser-Tuple{Expr}"><code>PerfTest.customMetricExpressionParser</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This is one of the parser functions that expand any formula block for metric definition. This function will parse all primitive metric symbols with the structure where the corresponding value of the metric is.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L6-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.customMetricReferenceExpressionParser-Tuple{Expr}" href="#PerfTest.customMetricReferenceExpressionParser-Tuple{Expr}"><code>PerfTest.customMetricReferenceExpressionParser</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This is one of the parser functions that expand any formula block for metric definition. This function will parse all primitive metric symbols with the structure where the corresponding reference value for the metric is.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L14-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.extractMethodologyResultArray-Tuple{Dict, Symbol}" href="#PerfTest.extractMethodologyResultArray-Tuple{Dict, Symbol}"><code>PerfTest.extractMethodologyResultArray</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method will return a flattened array of all of the results for all the methodologies exercised in the provided dictionary.</p><p><strong>Example:</strong></p><p>&quot;Test Set 1&quot;      -&gt; &quot;Test 1&quot;          -&gt; Methodology A result          -&gt; Methodology B result  &quot;Test Set 2&quot;      -&gt; &quot;Test 1&quot;          -&gt; Methodology A result Returns:  M. A result (Test 1)  M. B result (Test 1)  M. A result (Test 2)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/data_handling.jl#L33-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.extractNamesResultArray-Tuple{Dict, Symbol}" href="#PerfTest.extractNamesResultArray-Tuple{Dict, Symbol}"><code>PerfTest.extractNamesResultArray</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method will return a flattened array of the whole test result hierarchy.</p><p><strong>Example</strong></p><p><strong>Example:</strong></p><p>&quot;Test Set 1&quot;      -&gt; &quot;Test 1&quot;          -&gt; Methodology A result          -&gt; Methodology B result  &quot;Test Set 2&quot;      -&gt; &quot;Test 1&quot;          -&gt; Methodology A result Returns:  &quot;Test Set 1 -&gt; Test 1 -&gt; Methodology A&quot;  &quot;Test Set 1 -&gt; Test 1 -&gt; Methodology B&quot;  &quot;Test Set 2 -&gt; Test 1 -&gt; Methodology A&quot;</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/data_handling.jl#L83-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.flattenedInterpolation-Tuple{Expr, Expr, Symbol}" href="#PerfTest.flattenedInterpolation-Tuple{Expr, Expr, Symbol}"><code>PerfTest.flattenedInterpolation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method interpolates the <code>inside_expr</code> into <code>outside_expr</code> anywhere it finds the token <code>substitution_token</code>, which is a symbol. The <code>outside_expr</code> has to be a block or a quote block. It has the particularity that it will remove block heads from the <code>inside_expr</code> and add the nested elements onto the location where the token it.</p><p><strong>Example:</strong></p><p>outside_expr = :(:A; 4)</p><p>inside_expr = :(begin 2;3 end)</p><p>substitution_token = :A</p><p>returns = :(2;3;4)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L109-L122">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.fullParsingSuite-Tuple{Expr}" href="#PerfTest.fullParsingSuite-Tuple{Expr}"><code>PerfTest.fullParsingSuite</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function combines a collection of rules to turn a formula block into a functioning expression to calculate any metric defined by said formula</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.genTestName!-Tuple{PerfTest.Context}" href="#PerfTest.genTestName!-Tuple{PerfTest.Context}"><code>PerfTest.genTestName!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function that generates a test name if needed, it is used to name   test targets to distinguish them if several go in the same testset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L3-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.getMetricValue-Tuple{Vector{PerfTest.Methodology_Result}, String}" href="#PerfTest.getMetricValue-Tuple{Vector{PerfTest.Methodology_Result}, String}"><code>PerfTest.getMetricValue</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Given a series of methodology results, the the raw values of all the metrics contained in the methodology results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/data_handling.jl#L61-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.getNumber-Tuple{String}" href="#PerfTest.getNumber-Tuple{String}"><code>PerfTest.getNumber</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>From a string (<code>field</code>), it will parse the first number it finds as a Float</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L245-L247">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.grepOutput-Tuple{String, Union{Regex, String}}" href="#PerfTest.grepOutput-Tuple{String, Union{Regex, String}}"><code>PerfTest.grepOutput</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>From a string, it will divide it by lines and retrieve the ones that match the regular expression provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L233-L235">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.grepOutputXGetNumber-Tuple{String, String}" href="#PerfTest.grepOutputXGetNumber-Tuple{String, String}"><code>PerfTest.grepOutputXGetNumber</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Given a string <code>output</code>, it will retrieve the first number in the first line that contains the string <code>string</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L255-L257">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.iteratorExpressionParser-Tuple{Expr}" href="#PerfTest.iteratorExpressionParser-Tuple{Expr}"><code>PerfTest.iteratorExpressionParser</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This is one of the parser functions that expand any formula block for metric definition. This function will parse the <code>:iterator</code> symbol and substitute it with the current value of the innermost test set loop of the current test target execution</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L50-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.loadFileAsExpr-Tuple{AbstractString}" href="#PerfTest.loadFileAsExpr-Tuple{AbstractString}"><code>PerfTest.loadFileAsExpr</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Utility to get an expression from a Julia file stored at <code>path</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L20-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.metaGet-Tuple{AbstractVector, Symbol}" href="#PerfTest.metaGet-Tuple{AbstractVector, Symbol}"><code>PerfTest.metaGet</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Runs over an array of expressions trying to match the desired one.   If not found returns &quot;Nothing&quot;.</p><p>&quot;sym&quot; should follow the MacroTools nomenclature for the @capture macro</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L194-L199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.metaGetString-Tuple{AbstractVector}" href="#PerfTest.metaGetString-Tuple{AbstractVector}"><code>PerfTest.metaGetString</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L211-L213">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.onCustomMetricDefinition-Tuple{Expr, PerfTest.Context, Set{Symbol}}" href="#PerfTest.onCustomMetricDefinition-Tuple{Expr, PerfTest.Context, Set{Symbol}}"><code>PerfTest.onCustomMetricDefinition</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is called to register a custom metric, it will parse the arguments of the definition macro and add the metric to the context to be later used in test targets on the same scope.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L77-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.onMemoryThroughputDefinition-Tuple{Expr, PerfTest.Context}" href="#PerfTest.onMemoryThroughputDefinition-Tuple{Expr, PerfTest.Context}"><code>PerfTest.onMemoryThroughputDefinition</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is used to register a special custom metric, which is the effective memory throughput calculation, and is registered in the same way as any other but with a special flag that the EMT metholodogy will use to get and use the metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L147-L149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.openDataFile-Tuple{AbstractString}" href="#PerfTest.openDataFile-Tuple{AbstractString}"><code>PerfTest.openDataFile</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to get historical data of a performance test suite from a save file located in <code>path</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/data_handling.jl#L5-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.p_blue-Tuple{Any}" href="#PerfTest.p_blue-Tuple{Any}"><code>PerfTest.p_blue</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Prints the element in color blue</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.p_green-Tuple{Any}" href="#PerfTest.p_green-Tuple{Any}"><code>PerfTest.p_green</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Prints the element in color green</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L32-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.p_red-Tuple{Any}" href="#PerfTest.p_red-Tuple{Any}"><code>PerfTest.p_red</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Prints the element in color red</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L17-L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.p_yellow-Tuple{Any}" href="#PerfTest.p_yellow-Tuple{Any}"><code>PerfTest.p_yellow</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Prints the element in color yellow</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L24-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.perftestConfigEnter-Tuple{Expr, PerfTest.Context}" href="#PerfTest.perftestConfigEnter-Tuple{Expr, PerfTest.Context}"><code>PerfTest.perftestConfigEnter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to trigger the configuration mode on the context register</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/config.jl#L171-L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.perftestConfigExit-Tuple{Expr, PerfTest.Context}" href="#PerfTest.perftestConfigExit-Tuple{Expr, PerfTest.Context}"><code>PerfTest.perftestConfigExit</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function to deactivate the configuration mode on the context register</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/config.jl#L187-L189">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.popQuoteBlocks-Tuple{Expr}" href="#PerfTest.popQuoteBlocks-Tuple{Expr}"><code>PerfTest.popQuoteBlocks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Useful to correct operations limited by the tree walking  Will remove quote blocks inside the main block without recursion and push  their expressions into the main block</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L83-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.printDepth!-Tuple{AbstractArray}" href="#PerfTest.printDepth!-Tuple{AbstractArray}"><code>PerfTest.printDepth!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to print the test names, with consideration on the hierarchy and adding indentation whenever necessary</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L39-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.printIntervalLanding" href="#PerfTest.printIntervalLanding"><code>PerfTest.printIntervalLanding</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to print a graphical representation on a test result and the admisible intervals it can take. The result will and the two bounds will be printed in order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L79-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.printMethodology-Tuple{PerfTest.Methodology_Result, Int64}" href="#PerfTest.printMethodology-Tuple{PerfTest.Methodology_Result, Int64}"><code>PerfTest.printMethodology</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is used to print the information relative to a methodology, relative to a a specific test execution result. This will usually print a series of metrics and might also print plots.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L158-L160">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.printMetric-Tuple{PerfTest.Metric_Result, PerfTest.Metric_Constraint, Int64}" href="#PerfTest.printMetric-Tuple{PerfTest.Metric_Result, PerfTest.Metric_Constraint, Int64}"><code>PerfTest.printMetric</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to dump into the output the information about a metric and the value obtained in a specific test.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L113-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.printedOutputExpressionParser-Tuple{Expr}" href="#PerfTest.printedOutputExpressionParser-Tuple{Expr}"><code>PerfTest.printedOutputExpressionParser</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This is one of the parser functions that expand any formula block for metric definition. This function will parse the <code>:printed_output</code> symbol and substitute it with the standard output of the test target execution</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L38-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.printfail-Tuple{BenchmarkTools.TrialJudgement, BenchmarkTools.Trial, BenchmarkTools.Trial, PerfTest.FloatRange, Int64}" href="#PerfTest.printfail-Tuple{BenchmarkTools.TrialJudgement, BenchmarkTools.Trial, BenchmarkTools.Trial, PerfTest.FloatRange, Int64}"><code>PerfTest.printfail</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method dumps into the output a test result in case of failure. The output will be formatted to make it easy to read.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L59-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.removeBlock-Tuple{Expr}" href="#PerfTest.removeBlock-Tuple{Expr}"><code>PerfTest.removeBlock</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Pops <code>expr</code> which has a head that is :block or :quote and returns array of nested expressions which are the arguments of such head.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L47-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.retvalExpressionParser-Tuple{Expr}" href="#PerfTest.retvalExpressionParser-Tuple{Expr}"><code>PerfTest.retvalExpressionParser</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This is one of the parser functions that expand any formula block for metric definition. This function will parse the appropiate symbol and substitute it by the return value of the test target execution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/metrics.jl#L22-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.rooflineMacroParse-Tuple{Expr, PerfTest.Context}" href="#PerfTest.rooflineMacroParse-Tuple{Expr, PerfTest.Context}"><code>PerfTest.rooflineMacroParse</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Parses roofline user request and sets up data for   roofline computation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/methodologies/roofline.jl#L58-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.ruleSet-Tuple{PerfTest.Context, Vector{PerfTest.ASTRule}}" href="#PerfTest.ruleSet-Tuple{PerfTest.Context, Vector{PerfTest.ASTRule}}"><code>PerfTest.ruleSet</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method builds what is known as a rule set. Which is a function that will evaluate if an expression triggers a rule in a set and if that is the case apply the rule modifier. See the ASTRule documentation for more information.</p><p>WARNING: the rule set will apply the FIRST rule that matches with the expression, therefore other matches will be ignored</p><p><strong>Arguments</strong></p><ul><li><code>context</code> the context structure of the tree run, it will be ocassinally used by some rules on the set.</li><li><code>rules</code> the collection of rules that will belong to the resulting set.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/PerfTest.jl#L71-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.saveDataFile-Tuple{AbstractString, PerfTest.Perftest_Datafile_Root}" href="#PerfTest.saveDataFile-Tuple{AbstractString, PerfTest.Perftest_Datafile_Root}"><code>PerfTest.saveDataFile</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to save historical data of a performance test suite to a save file located in <code>path</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/perftest/data_handling.jl#L12-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.saveExprAsFile" href="#PerfTest.saveExprAsFile"><code>PerfTest.saveExprAsFile</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Utility to save an expression (<code>expr</code>) to a Julia file stored at <code>path</code></p><p>Requires a :toplevel symbol to be the head of the expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L29-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.setupCPUPeakFlopBenchmark-Tuple{}" href="#PerfTest.setupCPUPeakFlopBenchmark-Tuple{}"><code>PerfTest.setupCPUPeakFlopBenchmark</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to generate the code responsible for sampling the maximum CPU FLOPS based on the avaiable threads in every resulting suite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/benchmarking.jl#L54-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.setupMemoryBandwidthBenchmark-Tuple{}" href="#PerfTest.setupMemoryBandwidthBenchmark-Tuple{}"><code>PerfTest.setupMemoryBandwidthBenchmark</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method is used to generate the code responsible for sampling the maximum memory bandwith in every resulting suite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/benchmarking.jl#L6-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.testsetUpdate!-Tuple{PerfTest.Context, String}" href="#PerfTest.testsetUpdate!-Tuple{PerfTest.Context, String}"><code>PerfTest.testsetUpdate!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Function used to register a new test set in the hierarchy record of the context, where <code>name</code> is the name of the test set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L13-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.treeRun-Tuple{AbstractString}" href="#PerfTest.treeRun-Tuple{AbstractString}"><code>PerfTest.treeRun</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This method implements the transformation that converts a recipe script into a fully-fledged testing suite. The function will return a Julia expression with the resulting performance testing suite. This can be then executed or saved in a file for later usage.</p><p><strong>Arguments</strong></p><ul><li><code>path</code> the path of the script to be transformed.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/PerfTest.jl#L108-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.unblockAndConcat-Tuple{Vector{Expr}}" href="#PerfTest.unblockAndConcat-Tuple{Vector{Expr}}"><code>PerfTest.unblockAndConcat</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This function is useful to move expressions to the toplevel when they are enclosed inside a block</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/auxiliar.jl#L66-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@auxiliary_metric-Tuple{Any, Any, Any}" href="#PerfTest.@auxiliary_metric-Tuple{Any, Any, Any}"><code>PerfTest.@auxiliary_metric</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Defines a custom metric for informational purposes that will not be used for testing but will be printed as output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L156-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@define_eff_memory_throughput-Tuple{Any}" href="#PerfTest.@define_eff_memory_throughput-Tuple{Any}"><code>PerfTest.@define_eff_memory_throughput</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This macro is used to define the memory bandwidth of a target in order to execute the effective memory thorughput methodology.</p><p><strong>Arguments</strong></p><ul><li>formula block : an expression that returns a single value, which would be the metric value. The formula can have any julia expression inside and additionally some special symbols are supported. The formula may be evaluated several times, so its applied to every target in every test set or just once, if the formula is defined inside a test set, which makes it only applicable to it.</li></ul><p><strong>Special symbols:</strong></p><ul><li><code>:median_time</code> : will be substituted by the median time the target took to execute in the benchmark.</li><li><code>:minimum_time</code>: will be substituted by the minimum time the target took to execute in the benchmark.</li><li><code>:ret_value</code> : will be substituted by the return value of the target.</li><li><code>:autoflop</code>: will be substituted by the FLOP count the target.</li><li><code>:printed_output</code> : will be substituted by the standard output stream of the target.</li><li><code>:iterator</code> : will be substituted by the current iterator value in a loop test set.</li></ul><p><strong>Example:</strong></p><p>The following definition assumes that each execution of the target expression involves transacting 1000 bytes. Therefore the bandwith is 1000 / execution time.</p><pre><code class="nohighlight hljs">@define_eff_memory_throughput begin
      1000 / :median_time
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L78-L100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@define_metric-Tuple{Any}" href="#PerfTest.@define_metric-Tuple{Any}"><code>PerfTest.@define_metric</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This macro is used to define a new custom metric.</p><p><strong>Arguments</strong></p><ul><li><code>name</code> : the name of the metric for identification purposes.</li><li><code>units</code> : the unit space that the metric values will be in.</li><li>formula block : an expression that returns a single value, which would be the metric value. The formula can have any julia expression inside and additionally some special symbols are supported. The formula may be evaluated several times, so its applied to every target in every test set or just once, if the formula is defined inside a test set, which makes it only applicable to it.</li></ul><p><strong>Special symbols:</strong></p><ul><li><code>:median_time</code> : will be substituted by the median time the target took to execute in the benchmark.</li><li><code>:minimum_time</code>: will be substituted by the minimum time the target took to execute in the benchmark.</li><li><code>:ret_value</code> : will be substituted by the return value of the target.</li><li><code>:autoflop</code>: will be substituted by the FLOP count the target.</li><li><code>:printed_output</code> : will be substituted by the standard output stream of the target.</li><li><code>:iterator</code> : will be substituted by the current iterator value in a loop test set.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L56-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@lpad-Tuple{Any}" href="#PerfTest.@lpad-Tuple{Any}"><code>PerfTest.@lpad</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Macro that adds a space at the beggining of a string</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/prints.jl#L3-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@on_perftest_exec-Tuple{Any}" href="#PerfTest.@on_perftest_exec-Tuple{Any}"><code>PerfTest.@on_perftest_exec</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>The expression given to this macro will only be executed in the generated suite, and will be deleted if the source code is executed as is.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L39-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@on_perftest_ignore-Tuple{Any}" href="#PerfTest.@on_perftest_ignore-Tuple{Any}"><code>PerfTest.@on_perftest_ignore</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>The expression given to this macro will only be executed in the source code, and will be deleted in the generated performance test suite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L48-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@perftest-Tuple{Any}" href="#PerfTest.@perftest-Tuple{Any}"><code>PerfTest.@perftest</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This macro is used to signal that the wrapped expression is a performance test target, and therefore its performance will be sampled and then evaluated following the current suite configuration.</p><p>If the macro is evaluated it does not modify the target at all. The effects of the macro only show when the script is transformed into a performance testing suite.</p><p>This macro is sensitive to context since other adjacent macros can change how the target will be evaluated.</p><p><strong>Arguments</strong></p><ul><li>The target expression</li></ul><p><strong>Example</strong></p><pre><code class="nohighlight hljs">@perftest 2 + 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L2-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@perftest_config-Tuple{Any}" href="#PerfTest.@perftest_config-Tuple{Any}"><code>PerfTest.@perftest_config</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Perftest_config macro, used to set customised configuration on the suite generated by the source script</p><p>Configuration inside this macro must follow the syntax below:</p><pre><code class="nohighlight hljs">@perftest_config
    key = value
    key.subkey = value
end</code></pre><p>Where key can be any configuration parameter, in some cases parameters will consist on a set of subparameters denoted by the &quot;.&quot; to refer to them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L19-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PerfTest.@roofline" href="#PerfTest.@roofline"><code>PerfTest.@roofline</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>This macro enables roofline modelling, if put just before a target declaration (<code>@perftest</code>) it will proceed to evaluate it using a roofline model.</p><p><strong>Mandatory arguments</strong></p><ul><li>formula block: the macro has to wrap a block that holds a formula to obtain the operational intensity of target algorithms.</li></ul><p><strong>Optional arguments</strong></p><ul><li><code>cpu_peak</code> : a manual input value for the maximum attainable FLOPS, this will override the empirical runtime benchmark</li><li><code>membw_peak</code> : a manual input value for the maximum memory bandwith, this will override the empirical runtime benchmark</li><li><code>target_opint</code> : a desired operational intensity for the target, this will turn operational intensity into a test metric</li><li><code>actual_flops</code>: another formula that defines the actual performance of the test.</li><li><code>target_ratio</code> : the acceptable ratio between the actual performance and the projected performance from the roofline, this will turn actual performance into a test metric.</li></ul><p><strong>Special symbols:</strong></p><ul><li><code>:median_time</code> : will be substituted by the median time the target took to execute in the benchmark.</li><li><code>:minimum_time</code>: will be substituted by the minimum time the target took to execute in the benchmark.</li><li><code>:ret_value</code> : will be substituted by the return value of the target.</li><li><code>:autoflop</code>: will be substituted by the FLOP count the target.</li><li><code>:printed_output</code> : will be substituted by the standard output stream of the target.</li><li><code>:iterator</code> : will be substituted by the current iterator value in a loop test set.</li></ul><p>Any formula block specified in this macro supports these symbols.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">@roofline actual_flops=:autoflop target_ratio=0.05 begin
    mem = ((:iterator + 1) * :iterator)
    :autoflop / mem
end</code></pre><p>The code block defines operational intensity, whilst the other arguments define how to measure and compare the actual performance with the roofline performance. If the actual to projected performance ratio goes below the target, the test fails.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPerf/PerfTest.jl/blob/254e6d26546afd9ff8202d443bfba4fa61b4e332/src/macros.jl#L118-L149">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/memcopyCellArray3D_ParallelStencil/">« Roofline example: option pricing</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Thursday 10 October 2024 12:17">Thursday 10 October 2024</span>. Using Julia version 1.11.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
